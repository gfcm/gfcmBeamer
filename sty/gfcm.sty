% LaTeX package to create slides in GFCM Secretariat format

% History
% 1.0  06 Nov 2020  AM created, based on ices.sty
% 1.1  24 Feb 2021  AM updated title page background and adjusted datepos

\ProvidesPackage{gfcm}

% --------------
% 1 Dependencies
% --------------

% 1.1 Packages
\usepackage{listings}
\usepackage{tikz}

% 1.2 Background and title page
\graphicspath{{figs/}}

% ----------
% 2 Settings
% ----------

% 2.1 Character
\frenchspacing
\lstset{basicstyle=\ttfamily,literate={~}{$\sim$}{2}}

% 2.2 Color
\definecolor{darkblue}{rgb}{0.1,0.3,0.5}
\definecolor{blue}{rgb}{0.0,0.4,0.7}
\definecolor{darkgray}{rgb}{0.2,0.2,0.2}
\definecolor{gray}{rgb}{0.6,0.6,0.6}
\definecolor{darkgreen}{rgb}{0.1,0.4,0.4}
\definecolor{green}{rgb}{0.0,0.6,0.5}
\definecolor{orange}{rgb}{0.9,0.3,0.2}
\setbeamercolor{palette primary}{fg=white,bg=darkblue}
\setbeamercolor{item}{fg=darkgreen,bg=white}

% 2.3 Slide title
\setbeamercolor{frametitle}{fg=darkgray}
\setbeamerfont{frametitle}{size=\Large,series=\bfseries}

% 2.4 List
\setbeamertemplate{itemize item}{\scriptsize\raise1.25pt
  \hbox{\donotcoloroutermaths$\blacktriangleright$}}

% 2.5 Footer
\setbeamercolor{footline}{fg=white}
\setbeamertemplate{navigation symbols}{
  \usebeamerfont{footline}\usebeamercolor[fg]{footline}
  \begin{minipage}{\paperwidth}
    \hspace{146.5mm}\hfill\insertpagenumber\hfill\vspace{2.7mm}
  \end{minipage}
}
% 2.6 Margins
\setbeamersize{sidebar width left=3.5ex,text margin left=5ex,
  text margin right=3.5ex}
\setbeamertemplate{frametitle}{\vspace{2ex}\insertframetitle}

% 2.7 Background
\setbeamertemplate{background}{
  \includegraphics[width=\paperwidth]{gfcm-background}
}

% 2.8 Title page
\newcommand\titlepos{18}
\newcommand\authorpos{-42}
\newcommand\datepos{-102}
\newenvironment{transbox}[1]{\begin{tikzpicture}\node[text width=#1,
    fill=blue!90,fill opacity=0.5,text opacity=1,rounded corners]
    \bgroup}{\egroup;\end{tikzpicture}}
\setbeamercolor{title}{fg=darkgray}
\setbeamercolor{author}{fg=darkgreen}
\setbeamercolor{date}{fg=white}
\setbeamerfont{title}{series=\LARGE\bfseries}
\setbeamerfont{author}{size=\scriptsize,series=\bfseries}
\setbeamerfont{date}{size=\small,series=\bfseries}
\setbeamertemplate{title page}{
  \begin{picture}(0,0)
    \put(-45,-147){
      \includegraphics[width=\paperwidth]{gfcm-titlepage}
    }
    \put(-3,\titlepos){
      \begin{minipage}{\textwidth}
        \usebeamerfont{title}\usebeamercolor[fg]{title}\flushleft\inserttitle
      \end{minipage}
    }
    \put(-3,\authorpos){
      \begin{minipage}{\textwidth}
        \usebeamerfont{author}\usebeamercolor[fg]{author}\insertauthor
      \end{minipage}
    }
    \put(305,\datepos){
      \begin{minipage}{\textwidth}
        \usebeamerfont{date}\usebeamercolor[fg]{date}\insertdate
      \end{minipage}
    }
  \end{picture}
}

% ----------
% 3 Commands
% ----------

% 3.1 Color
\newcommand\black{\color{black}}
\newcommand\blue{\color{blue}}
\newcommand\darkblue{\color{darkblue}}
\newcommand\gray{\color{gray}}
\newcommand\darkgray{\color{darkgray}}
\newcommand\green{\color{green}}
\newcommand\darkgreen{\color{darkgreen}}
\newcommand\orange{\color{orange}}
\newcommand\textblack[1]{\textcolor{black}{#1}}
\newcommand\textblue[1]{\textcolor{blue}{#1}}
\newcommand\textdarkblue[1]{\textcolor{darkblue}{#1}}
\newcommand\textgray[1]{\textcolor{gray}{#1}}
\newcommand\textdarkgray[1]{\textcolor{darkgray}{#1}}
\newcommand\textgreen[1]{\textcolor{green}{#1}}
\newcommand\textdarkgreen[1]{\textcolor{darkgreen}{#1}}
\newcommand\textorange[1]{\textcolor{orange}{#1}}
\newcommand\textwhite[1]{\textcolor{white}{#1}}
\newcommand\white{\color{white}}

% 3.2 Special
\newcommand\comment[1]{\quad\textgreen{\textit{\small #1}}}
\newcommand\fns{\footnotesize}
\newcommand\h{\hspace}
